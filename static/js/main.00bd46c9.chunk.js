(this["webpackJsonpphoto-gallery"]=this["webpackJsonpphoto-gallery"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),i=(a(90),a(17)),l=a(14),s=a(20),d=a(19),u=a(39),j=a(23),h=a(143),b=a(146),m=a(106),p=a(154),g=a(148),O=a(147),x=a(59),f=a.n(x),v=a(6),y=a(149),k=a(73),C=a(71),M=a.n(C),P=a(156),T=a(11),N=function(e){var t,a;return{root:{width:"100%"},title:(t={width:"100%",display:"inline",textAlign:"center",marginTop:"auto",marginBottom:"auto"},Object(T.a)(t,e.breakpoints.up("xs"),{fontSize:20,fontWeight:"bold"}),Object(T.a)(t,e.breakpoints.up("lg"),{fontSize:60,fontWeight:"bold"}),t),normalMenu:(a={},Object(T.a)(a,e.breakpoints.up("xs"),{display:"none"}),Object(T.a)(a,e.breakpoints.up("lg"),{display:"flex"}),a),hamburgerMenu:Object(T.a)({},e.breakpoints.up("lg"),{display:"none"}),menuItem:{display:"flex",justifyContent:"center"},switchIcon:{marginLeft:0,marginRight:0,marginTop:"auto",marginBottom:"auto"},tabs:{display:"flex",marginLeft:"auto"}}},w=a(155),I=a(5),S=Object(n.createContext)(),F=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={darkMode:!1},n.toggleTheme=n.toggleTheme.bind(Object(j.a)(n)),n}return Object(l.a)(a,[{key:"toggleTheme",value:function(){this.setState({darkMode:!this.state.darkMode})}},{key:"render",value:function(){return Object(I.jsx)(S.Provider,{value:Object(u.a)(Object(u.a)({},this.state),{},{toggleTheme:this.toggleTheme}),children:this.props.children})}}]),a}(n.Component),B=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={anchorElement:null},n.handleMenuButtonClick=n.handleMenuButtonClick.bind(Object(j.a)(n)),n.handleMenuButtonClose=n.handleMenuButtonClose.bind(Object(j.a)(n)),n}return Object(l.a)(a,[{key:"handleMenuButtonClick",value:function(e){this.setState({anchorElement:e.currentTarget})}},{key:"handleMenuButtonClose",value:function(){this.setState({anchorElement:null})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.anchorElement,a=this.context,n=a.darkMode,r=a.toggleTheme;return Object(I.jsxs)("div",{className:"title",children:[Object(I.jsx)(h.a,{className:e.root,color:n?"default":"primary",position:"static",children:Object(I.jsxs)(b.a,{className:"toolbar",children:[Object(I.jsx)(m.a,{className:e.title,color:"inherit",children:Object(I.jsx)("em",{children:"JanzWE's PhotoGram"})}),Object(I.jsxs)("div",{className:e.normalMenu,children:[Object(I.jsx)(O.a,{className:e.switchIcon,value:"bottom",control:Object(I.jsx)(w.a,{onChange:r,color:"secondary"}),label:"Theme",labelPlacement:"bottom"}),Object(I.jsx)(p.a,{className:e.tabs,value:"logout","aria-label":"simple tabs example",children:Object(I.jsx)(g.a,{icon:Object(I.jsx)(f.a,{fontSize:"large"}),label:"logout"})})]}),Object(I.jsxs)("div",{className:e.hamburgerMenu,children:[Object(I.jsx)(y.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.handleMenuButtonClick,children:Object(I.jsx)(M.a,{})}),Object(I.jsxs)(k.a,{id:"simple-menu",open:Boolean(t),onClose:this.handleMenuButtonClose,keepMounted:!0,anchorEl:t,children:[Object(I.jsx)(P.a,{className:e.menuItem,children:Object(I.jsx)(O.a,{className:e.switchIcon,value:"bottom",control:Object(I.jsx)(w.a,{onChange:r,color:"secondary"}),label:"Toggle Theme",labelPlacement:"bottom"})}),Object(I.jsx)(P.a,{className:e.menuItem,children:Object(I.jsx)(p.a,{className:e.tabs,value:"logout","aria-label":"simple tabs example",children:Object(I.jsx)(g.a,{icon:Object(I.jsx)(f.a,{fontSize:"small"}),label:"logout"})})})]})]})]})}),Object(I.jsx)("h2",{className:"text-center my-5 "+(n?"text-light":"text-dark"),children:"Your PIXIEST Pics Collection"})]})}}]),a}(n.Component);B.contextType=S;var U=Object(v.a)(N)(B),E=a(60),z=a.n(E),A=a(72),D=a(152),J=a(48);a(102),a(103);J.a.initializeApp({apiKey:"AIzaSyCPCyNq-zU2JRUrOmNSe6ARml7YIMWFmUc",authDomain:"pcgram-photo-gallery.firebaseapp.com",projectId:"pcgram-photo-gallery",storageBucket:"pcgram-photo-gallery.appspot.com",messagingSenderId:"636216836291",appId:"1:636216836291:web:1ce4243edb18ed50a22276"});var L=J.a.storage(),W=J.a.firestore(),R=J.a.firestore.FieldValue.serverTimestamp,G=a(150),Y=a(153),q=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(I.jsxs)(Y.a,{display:"flex",alignItems:"center",children:[Object(I.jsx)(Y.a,{width:"100%",mr:1,children:Object(I.jsx)(G.a,Object(u.a)({variant:"determinate"},this.props))}),Object(I.jsx)(Y.a,{minWidth:35,children:Object(I.jsx)(m.a,{variant:"body2",color:"textSecondary",children:"".concat(Math.round(this.props.value),"%")})})]})}}]),a}(n.Component),K=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={imageFile:null,invalidFile:!1,showProgressMeter:!1,uploadPercent:null},n.handleImageUpload=n.handleImageUpload.bind(Object(j.a)(n)),n}return Object(l.a)(a,[{key:"handleImageUpload",value:function(e){var t=this,a=e.currentTarget.files[0],n=e.currentTarget.files[0].type;if(!a||"image/png"!==n&&"image/jpeg"!==n)this.setState({imageFile:null,invalidFile:!0,showProgressMeter:!1}),setTimeout((function(){t.setState({imageFile:null,invalidFile:!1})}),3e3);else{this.setState({imageFile:a,invalidFile:!1,showProgressMeter:!0});var r=L.ref(a.name),c=W.collection("images");r.put(a).on("state_changed",(function(e){var a=e.bytesTransferred/e.totalBytes*100;t.setState({uploadPercent:a})}),(function(e){console.log(e)}),Object(A.a)(z.a.mark((function e(){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getDownloadURL();case 2:a=e.sent,c.add({url:a,uploadedAt:R()}),t.setState({imageFile:null,showProgressMeter:!1,uploadPercent:null});case 5:case"end":return e.stop()}}),e)}))))}}},{key:"render",value:function(){var e=this.state,t=e.imageFile,a=e.invalidFile,n=e.uploadPercent,r=e.showProgressMeter,c=this.context.darkMode;return Object(I.jsxs)("div",{className:"mx-auto form-div",children:[Object(I.jsxs)("form",{id:"image-form",children:[Object(I.jsxs)("span",{className:"mr-2",children:[Object(I.jsx)("input",{accept:"image/*",hidden:!0,id:"image-upload-button",type:"file",onChange:this.handleImageUpload}),Object(I.jsx)("label",{htmlFor:"image-upload-button",children:Object(I.jsx)(y.a,{id:c?"uploadButton-dark":"uploadButton",size:"small",variant:"contained",color:"primary",component:"span",children:Object(I.jsx)("strong",{children:"Upload"})})})]}),Object(I.jsx)("span",{children:Object(I.jsx)(D.a,{id:c?"textfield-dark":"textfield",style:{width:"70%"},error:!!a,helperText:a?"Please Choose a PNG or JPEG File":"",value:t?t.name:"",disabled:!!c})})]}),Object(I.jsx)("div",{className:"progressmeter mt-4",style:{display:r?"block":"none"},children:Object(I.jsx)(q,{value:n})})]})}}]),a}(n.Component);K.contextType=S;var V=K,X=a(26),_=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.imagesData,t=Math.ceil(e.length/3),a=this.context.darkMode;return Object(I.jsx)("div",{className:"image-grid",children:Object(X.a)(new Array(t)).map((function(t,n){return Object(I.jsx)("div",{className:"row imagerow",children:e.slice(3*n,3*n+3).map((function(e){return Object(I.jsx)("div",{className:"col col-12 col-lg-3 "+(a?"imagediv-dark":"imagediv"),children:Object(I.jsx)("img",{src:e.url,alt:"User Uploaded Pic"})},e.id)}))})}))})}}]),a}(n.Component);_.contextType=S;var H=_,Q=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={userPhotos:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;W.collection("images").orderBy("uploadedAt").onSnapshot((function(t){var a=[];t.forEach((function(e){a.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),e.setState({userPhotos:a})}))}},{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)(U,{}),Object(I.jsx)(V,{}),Object(I.jsx)(H,{imagesData:this.state.userPhotos})]})}}]),a}(n.Component),Z=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.context.darkMode,t={backgroundColor:e?"#2d3436":"#b8c6db",backgroundImage:e?"linear-gradient(315deg, #2d3436 0%, #000000 74%)":"linear-gradient(315deg, #b8c6db 0%, #f5f7fa 74%)"};return Object(I.jsx)("div",{style:t,children:this.props.children})}}]),a}(n.Component);Z.contextType=S;var $=Z,ee=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"App",children:Object(I.jsx)(F,{children:Object(I.jsx)($,{children:Object(I.jsx)(Q,{})})})})})}}]),a}(n.Component),te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,158)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(ee,{})}),document.getElementById("root")),te()},90:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.00bd46c9.chunk.js.map