(this["webpackJsonpphoto-gallery"]=this["webpackJsonpphoto-gallery"]||[]).push([[0],{111:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),o=a(17),c=a.n(o),r=(a(99),a(20)),l=a(16),s=a(23),d=a(22),u=a(39),h=a(18),j=a(154),b=a(157),m=a(118),g=a(165),p=a(159),O=a(158),v=a(65),x=a.n(v),f=a(8),k=a(160),y=a(81),C=a(78),I=a.n(C),M=a(167),S=a(12),N=function(e){var t,a;return{root:{width:"100%"},title:(t={width:"100%",display:"inline",textAlign:"center",marginTop:"auto",marginBottom:"auto"},Object(S.a)(t,e.breakpoints.up("xs"),{fontSize:20,fontWeight:"bold"}),Object(S.a)(t,e.breakpoints.up("lg"),{fontSize:60,fontWeight:"bold"}),t),normalMenu:(a={},Object(S.a)(a,e.breakpoints.up("xs"),{display:"none"}),Object(S.a)(a,e.breakpoints.up("lg"),{display:"flex"}),a),hamburgerMenu:Object(S.a)({},e.breakpoints.up("lg"),{display:"none"}),menuItem:{display:"flex",justifyContent:"center"},switchIcon:{marginLeft:0,marginRight:0,marginTop:"auto",marginBottom:"auto"},tabs:{display:"flex",marginLeft:"auto"}}},T=a(166),w=a(5),P=Object(n.createContext)(),B=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={darkMode:!1},n.toggleTheme=n.toggleTheme.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"toggleTheme",value:function(){this.setState({darkMode:!this.state.darkMode})}},{key:"render",value:function(){return Object(w.jsx)(P.Provider,{value:Object(u.a)(Object(u.a)({},this.state),{},{toggleTheme:this.toggleTheme}),children:this.props.children})}}]),a}(n.Component),F=a(48);a(101),a(102),a(103);F.a.initializeApp({apiKey:"AIzaSyCPCyNq-zU2JRUrOmNSe6ARml7YIMWFmUc",authDomain:"pcgram-photo-gallery.firebaseapp.com",projectId:"pcgram-photo-gallery",storageBucket:"pcgram-photo-gallery.appspot.com",messagingSenderId:"636216836291",appId:"1:636216836291:web:1ce4243edb18ed50a22276"});var D=F.a.auth(),E=F.a.storage(),A=F.a.firestore(),z=F.a.firestore.FieldValue.serverTimestamp,L=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={anchorElement:null},n.handleMenuButtonClick=n.handleMenuButtonClick.bind(Object(h.a)(n)),n.handleMenuButtonClose=n.handleMenuButtonClose.bind(Object(h.a)(n)),n.handleLogoutButton=n.handleLogoutButton.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"handleMenuButtonClick",value:function(e){this.setState({anchorElement:e.currentTarget})}},{key:"handleMenuButtonClose",value:function(){this.setState({anchorElement:null})}},{key:"handleLogoutButton",value:function(){D.signOut()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.username,n=this.state.anchorElement,i=this.context,o=i.darkMode,c=i.toggleTheme;return Object(w.jsxs)("div",{className:"title",children:[Object(w.jsx)(j.a,{className:t.root,color:o?"default":"primary",position:"static",children:Object(w.jsxs)(b.a,{className:"toolbar",children:[Object(w.jsx)(m.a,{className:t.title,color:"inherit",children:Object(w.jsx)("em",{children:"JanzWE's PhotoGram"})}),Object(w.jsxs)("div",{className:t.normalMenu,children:[Object(w.jsx)(O.a,{className:t.switchIcon,value:"bottom",control:Object(w.jsx)(T.a,{onChange:c,color:"secondary"}),label:"Theme",labelPlacement:"bottom"}),Object(w.jsx)(g.a,{className:t.tabs,value:"logout","aria-label":"simple tabs example",children:Object(w.jsx)(p.a,{onClick:this.handleLogoutButton,icon:Object(w.jsx)(x.a,{fontSize:"large"}),label:"logout"})})]}),Object(w.jsxs)("div",{className:t.hamburgerMenu,children:[Object(w.jsx)(k.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.handleMenuButtonClick,children:Object(w.jsx)(I.a,{})}),Object(w.jsxs)(y.a,{id:"simple-menu",open:Boolean(n),onClose:this.handleMenuButtonClose,keepMounted:!0,anchorEl:n,children:[Object(w.jsx)(M.a,{className:t.menuItem,children:Object(w.jsx)(O.a,{className:t.switchIcon,value:"bottom",control:Object(w.jsx)(T.a,{onChange:c,color:"secondary"}),label:"Toggle Theme",labelPlacement:"bottom"})}),Object(w.jsx)(M.a,{className:t.menuItem,children:Object(w.jsx)(g.a,{className:t.tabs,value:"logout","aria-label":"simple tabs example",children:Object(w.jsx)(p.a,{onClick:this.handleLogoutButton,icon:Object(w.jsx)(x.a,{fontSize:"small"}),label:"logout"})})})]})]})]})}),Object(w.jsxs)("h1",{className:"text-center mt-5 mb-2 "+(o?"text-light":"text-dark"),children:["WELCOME, ",Object(w.jsxs)("strong",{children:[a?a.split(" ")[0]:"Stranger"," :)"]})]}),Object(w.jsxs)("h2",{className:"text-center mt-2 mb-5 "+(o?"text-light":"text-dark"),children:["To ",a?"Your":"the"," PIXIEST Collection of Pics"]})]})}}]),a}(n.Component);L.contextType=P;var U=Object(f.a)(N)(L),W=a(66),G=a.n(W),J=a(79),R=a(163),H=a(161),Y=a(164),q=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.context.darkMode;return Object(w.jsxs)(Y.a,{display:"flex",alignItems:"center",children:[Object(w.jsx)(Y.a,{width:"100%",mr:1,children:Object(w.jsx)(H.a,Object(u.a)({variant:"determinate"},this.props))}),Object(w.jsx)(Y.a,{minWidth:35,children:Object(w.jsx)(m.a,{variant:"body1",color:e?"secondary":"textSecondary",children:"".concat(Math.round(this.props.value),"%")})})]})}}]),a}(n.Component);q.contextType=P;var K=q,V=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={imageFile:null,invalidFile:!1,showProgressMeter:!1,uploadPercent:null},n.handleImageUpload=n.handleImageUpload.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"handleImageUpload",value:function(e){var t=this,a=e.currentTarget.files[0],n=e.currentTarget.files[0].type;if(!a||"image/png"!==n&&"image/jpeg"!==n)this.setState({imageFile:null,invalidFile:!0,showProgressMeter:!1}),setTimeout((function(){t.setState({imageFile:null,invalidFile:!1})}),3e3);else{this.setState({imageFile:a,invalidFile:!1,showProgressMeter:!0});var i=E.ref(a.name),o=this.props.userEmail&&this.props.userId?"".concat(this.props.userId):"anonnymous",c=A.collection("users/".concat(o,"/images"));i.put(a).on("state_changed",(function(e){var a=e.bytesTransferred/e.totalBytes*100;t.setState({uploadPercent:a})}),(function(e){console.log(e)}),Object(J.a)(G.a.mark((function e(){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getDownloadURL();case 2:n=e.sent,c.add({url:n,imageName:a.name,uploadedAt:z()}),t.setState({imageFile:null,showProgressMeter:!1,uploadPercent:null});case 5:case"end":return e.stop()}}),e)}))))}}},{key:"render",value:function(){var e=this.state,t=e.imageFile,a=e.invalidFile,n=e.uploadPercent,i=e.showProgressMeter,o=this.context.darkMode;return Object(w.jsxs)("div",{className:"mx-auto form-div",children:[Object(w.jsxs)("form",{id:"image-form",children:[Object(w.jsxs)("span",{className:"mr-2",children:[Object(w.jsx)("input",{accept:"image/*",hidden:!0,id:"image-upload-button",type:"file",onChange:this.handleImageUpload}),Object(w.jsx)("label",{htmlFor:"image-upload-button",children:Object(w.jsx)(k.a,{id:o?"uploadButton-dark":"uploadButton",size:"large",variant:"contained",component:"span",children:Object(w.jsx)("strong",{children:"Upload"})})})]}),Object(w.jsx)("span",{children:Object(w.jsx)(R.a,{id:o?"textfield-dark":"textfield",style:{width:"60%"},error:!!a,helperText:a?"Please Choose a PNG or JPEG File":"",value:t?t.name:"",disabled:!0})})]}),Object(w.jsx)("div",{className:"progressmeter mt-4",style:{display:i?"block":"none"},children:Object(w.jsx)(K,{value:n})})]})}}]),a}(n.Component);V.contextType=P;var X=V,_=a(80),Q=a.n(_),Z=(a(111),function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleModalCloseClick=n.handleModalCloseClick.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"handleModalCloseClick",value:function(e){this.props.closeModal(e)}},{key:"render",value:function(){var e=this.props.imgSrc;return Object(w.jsx)("div",{className:"modal-display",children:Object(w.jsx)("div",{onClick:this.handleModalCloseClick,className:"main-modal row",children:Object(w.jsx)("div",{onClick:this.handleModalCloseClick,className:"modal-box row",children:Object(w.jsx)("div",{onClick:this.handleModalCloseClick,className:"finbox col col-12",children:Object(w.jsx)("img",{src:e,alt:"Magnified Pic"})})})})})}}]),a}(n.Component)),$=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={showModal:!1,selectedImage:null},n.closeModal=n.closeModal.bind(Object(h.a)(n)),n.handleImageClick=n.handleImageClick.bind(Object(h.a)(n)),n.handleDeleteButtonClick=n.handleDeleteButtonClick.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"handleImageClick",value:function(e){var t=e.currentTarget.getAttribute("src");this.setState({showModal:!0,selectedImage:t})}},{key:"closeModal",value:function(e){e.currentTarget===e.target&&this.setState({selectedImage:null,showModal:!1})}},{key:"handleDeleteButtonClick",value:function(e){var t=e.currentTarget.getAttribute("imageName");console.log(t);var a=e.currentTarget.getAttribute("imageId"),n=E.ref(t),i=this.props.userEmail&&this.props.userId?"".concat(this.props.userId):"anonnymous";A.collection("users/".concat(i,"/images")).doc("".concat(a)).delete(),n.delete()}},{key:"render",value:function(){var e=this,t=this.state,a=t.showModal,n=t.selectedImage,i=this.props.imagesData,o=this.context.darkMode;return Object(w.jsxs)("div",{className:"image-grid",children:[Object(w.jsx)("div",{className:"row imagerow",children:i.map((function(t){return Object(w.jsxs)("div",{className:"col col-12 col-lg-3 "+(o?"imagediv-dark":"imagediv"),children:[Object(w.jsx)("img",{id:"".concat(o?"imagedark":"imagelight"),onClick:e.handleImageClick,src:t.url,alt:"User Uploaded Pic"}),Object(w.jsx)("div",{className:"image-delete",children:Object(w.jsx)(k.a,{onClick:e.handleDeleteButtonClick,imageId:t.id,imageName:t.imageName,variant:"contained",color:"secondary",children:Object(w.jsx)(Q.a,{fontSize:"large",color:"default"})})})]},t.id)}))}),a?Object(w.jsx)(Z,{imgSrc:n,closeModal:this.closeModal}):null]})}}]),a}(n.Component);$.contextType=P;var ee=$,te=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={userPhotos:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.userData.email&&this.props.userData.uid?this.props.userData.uid:"anonnymous";A.collection("users/".concat(t,"/images")).orderBy("uploadedAt").onSnapshot((function(t){var a=[];t.forEach((function(e){a.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),e.setState({userPhotos:a})}))}},{key:"render",value:function(){var e=this.props.userData,t=e.email,a=e.uid,n=e.displayName;return Object(w.jsxs)("div",{children:[Object(w.jsx)(U,{username:n}),Object(w.jsx)(X,{userEmail:t,userId:a}),Object(w.jsx)(ee,{userEmail:t,userId:a,imagesData:this.state.userPhotos})]})}}]),a}(n.Component),ae=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.context.darkMode,t={minHeight:"100vh",backgroundColor:e?"#2d3436":"#b8c6db",backgroundImage:e?"linear-gradient(315deg, #2d3436 0%, #000000 74%)":"linear-gradient(315deg, #b8c6db 0%, #f5f7fa 74%)"};return Object(w.jsx)("div",{style:t,children:this.props.children})}}]),a}(n.Component);ae.contextType=P;var ne=ae,ie=a(82),oe=a(67),ce=Object(ie.a)(k.a)({background:"linear-gradient(315deg, #00b712 0%, #5aff15 74%)",color:"black"}),re=Object(ie.a)(k.a)({background:"linear-gradient(-120deg, #4285f4, #34a853, #fbbc05, #ea4335)",color:"black"}),le=Object(ie.a)(k.a)({background:"linear-gradient(315deg, #000000 0%, #414141 74%)",color:"white"}),se=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).googleSignIn=n.googleSignIn.bind(Object(h.a)(n)),n.githubSignIn=n.githubSignIn.bind(Object(h.a)(n)),n.freeSignIn=n.freeSignIn.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"freeSignIn",value:function(){D.signInAnonymously()}},{key:"googleSignIn",value:function(){D.signInWithPopup(new oe.a.auth.GoogleAuthProvider)}},{key:"githubSignIn",value:function(){D.signInWithPopup(new oe.a.auth.GithubAuthProvider)}},{key:"render",value:function(){return Object(w.jsx)("div",{className:"signup-page",children:Object(w.jsx)("div",{className:"signupform-div",children:Object(w.jsxs)("form",{className:"signupform",children:[Object(w.jsx)("h1",{className:"text-dark text-center my-3",children:"Welcome to PHOTOGram"}),Object(w.jsx)("div",{className:"signupform-buttons my-2",children:Object(w.jsx)(ce,{onClick:this.freeSignIn,size:"large",variant:"contained",color:"primary",children:Object(w.jsx)("strong",{children:"Try it for Free"})})}),Object(w.jsx)("div",{className:"signupform-buttons my-2",children:Object(w.jsx)(re,{onClick:this.googleSignIn,size:"large",variant:"contained",color:"primary",children:Object(w.jsx)("strong",{children:"Sign in with Google"})})}),Object(w.jsx)("div",{className:"signupform-buttons my-2",children:Object(w.jsx)(le,{onClick:this.githubSignIn,size:"large",variant:"contained",color:"primary",children:Object(w.jsx)("strong",{children:"Sign in with Github"})})})]})})})}}]),a}(n.Component),de=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={user:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;D.onAuthStateChanged((function(t){e.setState({user:t})}))}},{key:"render",value:function(){return Object(w.jsx)("div",{children:Object(w.jsx)("div",{className:"App",children:this.state.user?Object(w.jsx)(B,{children:Object(w.jsx)(ne,{children:Object(w.jsx)(te,{userData:this.state.user})})}):Object(w.jsx)(se,{})})})}}]),a}(n.Component),ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,169)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),o(e),c(e)}))};c.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(de,{})}),document.getElementById("root")),ue()},99:function(e,t,a){}},[[114,1,2]]]);
//# sourceMappingURL=main.ebbe809f.chunk.js.map